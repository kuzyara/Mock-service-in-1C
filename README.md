# Mock-service-in-1C
[![telegram](https://patrolavia.github.io/telegram-badge/chat.png)](https://teleg.run/kuzyara777)

Утилита подняния мок-сервиса из файла soap.ui

```console
C:\jenkins-slave\uat-price\soapui.net\bin>StandardConsoleApp.exe /?
start [/F Filepath] [/S Filepath] [/T:timeout]
/F                   Set XML SoapUI Project, by default using "project.xml" in root directory.
Filepath             Full filepath.
/S                   Set stop file if need to shut down server by file.
Filepath             Full filepath.
/T:timeout           Timeout in seconds if need to shut down server by timeout.
```

```gherkin
Функционал: Синхронизация ограничений по минимальной цене для брендов с системой фронт 
            Как разработчик  
            Я хочу синхронизировать ограничения по минимальной цене с системой фронт
            Чтобы не изменять код конфигурации при изменении ограничений

Контекст:
	Дано Существует метаданное "Справочник.Производители"
    И Я Очищаю Справочник "Производители"
    И Я Очищаю Справочник "СинтетическиеГруппы"
    И Я Очищаю РегистрСведений "ОчередьВыгрузкиСправочниковВоФронт"
    И Существует метаданное "ПодпискаНаСобытие.РегистрацияИзмененийСправочников"
    И Существует метаданное "РегистрСведений.ОчередьВыгрузкиСправочниковВоФронт"
    И Существует фоновое задание ЦО "ВыгрузкаСправочниковВоФронт"
    И Создан тестовый элемент справочника Производители
    И Существует предопределенный элемент справочника "СоответствиеВебСервисов" "ФРОНТВыгрузкаСправочников"

Сценарий: Выгрузка измений во Фронт по требованию
    Когда в справочнике СоответствиеВебСервисов установлены настройки для отправки в мок-сервис
    И    Поднять Мок сервисы на сервере в фоне "mockFrontBrand.xml" с таймаутом "140" 
    И    Ожидаю поднятия мок сервисов справочника "СоответствиеВебСервисов" из таблицы:
	|'Наименование'			  			  |'Предопределенный'|
	|'ФРОНТВыгрузкаСправочников'	  	  |'Истина'			 |
    И     Настроено фоновое задание выгрузки справочников во Фронт
    И     в регистре ОчередьВыгрузкиСправочниковВоФронт появилась запись с тестовым справочником 
    И     Я инициирую выгрузку данных во фронт   
    Тогда регистр Очередь ВыгрузкиСправочниковВоФронт стал пустым
	И 	  Завершить мок сервисы на сервере
  ```
